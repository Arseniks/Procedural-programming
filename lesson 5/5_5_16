#include <iostream>
#include <vector>
#include <fstream>
#include <string>
#include <cmath>

using namespace std;

int from_16(string ch) {
    vector <int> ss16;
    for(char i : ch) {
        switch (i) {
        case 'A':
            ss16.push_back(10);
            break;
        case 'B':
            ss16.push_back(11);
            break;
        case 'C':
            ss16.push_back(12);
            break;
        case 'D':
            ss16.push_back(13);
            break;
        case 'E':
            ss16.push_back(14);
            break;
        case 'F':
            ss16.push_back(15);
            break;
        default:
            ss16.push_back(i);
            break;
        }
    }
    int ssk = 0;
    int k = 0;
    for (int i = ss16.size() - 1; i >= 0; i--){
        ssk += ss16[i] * pow(16, k);
        k++;
    }
    return ssk;
}

int to_ss(int ch, int ss) {
    int ssk = 0;
    int i = 1;
    while(ch > 0){
        ssk = ssk + (ch % ss) * i;
        i = i * 10;
        ch = int(ch / ss);
    }
    return ssk;
}

int main() {
    ifstream file;
    file.open("input.txt");
    
    string ch;
    vector <string> ss1str;
    vector <int> minus;
    
    while(!file.eof()) {
        file >> ch;
        ss1str.push_back(ch);
        for (char i : ch){
            if (i > 'F') {
                cout << "Некорректное число";
                return 0;
            }
        }
        if (ch[0] == '-') {
            minus.push_back(-1);
        }
        else {
            minus.push_back(1);
        }
    }
    file.close();
    
    int ss;
    while (1) {
        cout << "Введите систему счисления от 2 до 9:";
        cin >> ss;
        if (ss < 2 or ss > 9) {
            cout << "Некорректная система счисления" << endl;
        continue;
        } else {
            break;
        }
    }
    
    vector <int> ss1;
    for (int i = 0;i < ss1str.size() - 1; i++){
        string b = ss1str[i];
        ss1.push_back(from_16(b));
    }
    
    vector <int> ans;
    for (int i = 0; i < ss1.size(); i++){
        int b = ss1[i];
        ans.push_back(to_ss(b, ss));
    }
    
    ofstream file1;
    
    file1.open("output.txt");
    
    for (int i = 0; i < ans.size(); i++){
        int b = ans[i] * minus[i];
        file1 << b << " ";
    }
    
    file1.close();
    
    return 0;
}
